<html>
    <head>
        <script src="http://cdn.sockjs.org/sockjs-0.3.min.js">
        </script>
        <script src="http://d3js.org/d3.v2.js"></script>
    </head>

    <body>
        <p>This is a test</p>
        <p>This is a test</p>
        <p>This is a test</p>
        <p>This is a test</p>
        <p>This is a test</p>
        <p>This is a test</p>
        <p>This is a test</p>
        <p>This is a test</p>
        <p>This is a test</p>
        <p>This is a test</p>

        <script>
            var sock = new SockJS('http://localhost:9999/echo');
            
            sock.onopen = function() {
                console.log('open');
            };
            
            sock.onmessage = function(e) {
                console.log('message', e.data);
            };

            sock.onclose = function() {
                console.log('close');
            };


            d3.selectAll("p").style("color", function() {
                  return "hsl(" + Math.random() * 360 + ",100%,50%)";
              });

        </script>
    </body>
</html>
